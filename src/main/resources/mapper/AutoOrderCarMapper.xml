<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="AutoOrderCarMapper">
    <resultMap id="AutoOrderCar" type="puzzle.lianche.entity.AutoOrderCar">
    	<id column="rec_id" property="recId" /> 
    	<result column="order_id" property="orderId" /> 
    	<result column="car_id" property="carId" /> 
    	<result column="car_attr_id" property="carAttrId" /> 
    	<result column="car_attr" property="carAttr" /> 
    	<result column="car_price" property="carPrice" /> 
    </resultMap>

    <sql id="allColumn">
    	rec_id, order_id, car_id, car_attr_id, car_attr, car_price
    </sql>

    <insert id="insert" parameterType="AutoOrderCar" useGeneratedKeys="true" keyProperty="recId">
        insert into auto_order_car 
        (
        	
        	<if test="orderId != null">order_id, </if>
        	<if test="carId != null">car_id, </if>
        	<if test="carAttrId != null">car_attr_id, </if>
        	<if test="carAttr != null">car_attr, </if>
        	<if test="carPrice != null">car_price</if>
        )
        values 
        (
        	
        	<if test="orderId != null">#{orderId}, </if>
        	<if test="carId != null">#{carId}, </if>
        	<if test="carAttrId != null">#{carAttrId}, </if>
        	<if test="carAttr != null">#{carAttr}, </if>
        	<if test="carPrice != null">#{carPrice}</if>
       	)
    </insert>

    <update id="update" parameterType="AutoOrderCar">
        update auto_order_car set 
        <set>
        	<if test="orderId != null">  
        		order_id = #{orderId}
        	</if>
        	<if test="carId != null">  
        		car_id = #{carId}
        	</if>
        	<if test="carAttrId != null">  
        		car_attr_id = #{carAttrId}
        	</if>
        	<if test="carAttr != null">  
        		car_attr = #{carAttr}
        	</if>
        	<if test="carPrice != null">  
        		car_price = #{carPrice}
        	</if>
        </set>
        <where> 
        	<if test="recId > 0">
                rec_id = #{recId}
            </if>
        </where>
    </update>

    <delete id="delete" parameterType="Map">
        delete from auto_order_car
        <where>
	        <trim prefixOverrides="and | or">  
	        	<if test="recId > 0">
	                rec_id = #{recId}
	            </if>
	        	<if test="orderId > 0">
	                order_id = #{orderId}
	            </if>
	        	<if test="carId > 0">
	                car_id = #{carId}
	            </if>
	        	<if test="carAttrId != null">
	                car_attr_id = #{carAttrId}
	            </if>
	        	<if test="carAttr != null">
	                car_attr = #{carAttr}
	            </if>
	        </trim>
        </where>
    </delete>

    <select id="query" parameterType="Map" resultMap="AutoOrderCar">
        select <include refid="allColumn"/> from auto_order_car
        <where>  
        	<if test="recId > 0">
                rec_id = #{recId}
            </if>
        </where> 
    </select>

    <select id="queryList" parameterType="Map" resultMap="AutoOrderCar">
        select <include refid="allColumn"/> from auto_order_car
        <where>
	        <trim prefixOverrides="and | or">
	        	<if test="recId > 0">
	                rec_id = #{recId}
	            </if>
	        	<if test="orderId > 0">
	                order_id = #{orderId}
	            </if>
	        	<if test="carId > 0">
	                car_id = #{carId}
	            </if>
	        	<if test="carAttrId != null">
	                car_attr_id = #{carAttrId}
	            </if>
	        	<if test="carAttr != null">
	                car_attr = #{carAttr}
	            </if>
	        </trim>
        </where>
    </select>

</mapper>
