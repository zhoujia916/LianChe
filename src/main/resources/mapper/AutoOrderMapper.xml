<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="AutoOrderMapper">
    <resultMap id="AutoOrder" type="puzzle.lianche.entity.AutoOrder">
    	<id column="order_id" property="orderId" /> 
    	<result column="order_sn" property="orderSn" /> 
    	<result column="order_status" property="orderStatus" /> 
    	<result column="pay_status" property="payStatus" /> 
    	<result column="ship_status" property="shipStatus" /> 
    	<result column="add_time" property="addTime" /> 
    </resultMap>

    <sql id="allColumn">
    	order_id, order_sn, order_status, pay_status, ship_status, add_time
    </sql>

    <insert id="insert" parameterType="AutoOrder" useGeneratedKeys="true" keyProperty="orderId">
        insert into auto_order 
        (
        	
        	<if test="orderSn != null">order_sn, </if>
        	<if test="orderStatus != null">order_status, </if>
        	<if test="payStatus != null">pay_status, </if>
        	<if test="shipStatus != null">ship_status, </if>
        	<if test="addTime != null">add_time</if>
        )
        values 
        (
        	
        	<if test="orderSn != null">#{orderSn}, </if>
        	<if test="orderStatus != null">#{orderStatus}, </if>
        	<if test="payStatus != null">#{payStatus}, </if>
        	<if test="shipStatus != null">#{shipStatus}, </if>
        	<if test="addTime != null">#{addTime}</if>
       	)
    </insert>

    <update id="update" parameterType="AutoOrder">
        update auto_order set 
        <set>
        	<if test="orderSn != null">  
        		order_sn = #{orderSn}
        	</if>
        	<if test="orderStatus != null">  
        		order_status = #{orderStatus}
        	</if>
        	<if test="payStatus != null">  
        		pay_status = #{payStatus}
        	</if>
        	<if test="shipStatus != null">  
        		ship_status = #{shipStatus}
        	</if>
        	<if test="addTime != null">  
        		add_time = #{addTime}
        	</if>
        </set>
        <where> 
        	<if test="orderId > 0">
                order_id = #{orderId}
            </if>
        </where>
    </update>

    <delete id="delete" parameterType="Map">
        delete from auto_order
        <where>
	        <trim prefixOverrides="and | or">  
	        	<if test="orderId > 0">
	                order_id = #{orderId}
	            </if>
	        	<if test="orderSn != null">
	                order_sn = #{orderSn}
	            </if>
	        	<if test="orderStatus > 0">
	                order_status = #{orderStatus}
	            </if>
	        	<if test="payStatus > 0">
	                pay_status = #{payStatus}
	            </if>
	        	<if test="shipStatus > 0">
	                ship_status = #{shipStatus}
	            </if>
	        </trim>
        </where>
    </delete>

    <select id="query" parameterType="Map" resultMap="AutoOrder">
        select <include refid="allColumn"/> from auto_order
        <where>  
        	<if test="orderId > 0">
                order_id = #{orderId}
            </if>
        </where> 
    </select>

    <select id="queryList" parameterType="Map" resultMap="AutoOrder">
        select <include refid="allColumn"/> from auto_order
        <where>
	        <trim prefixOverrides="and | or">
	        	<if test="orderId > 0">
	                order_id = #{orderId}
	            </if>
	        	<if test="orderSn != null">
	                order_sn = #{orderSn}
	            </if>
	        	<if test="orderStatus > 0">
	                order_status = #{orderStatus}
	            </if>
	        	<if test="payStatus > 0">
	                pay_status = #{payStatus}
	            </if>
	        	<if test="shipStatus > 0">
	                ship_status = #{shipStatus}
	            </if>
	        </trim>
        </where>
    </select>

</mapper>
